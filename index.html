<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>What Determines Victory in League of Legends?</title>

  <!-- D3 v7 CDN -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <h1>What Determines Victory in League of Legends?</h1>
  <p>
    This prototype explores how early-game gold advantage at 10 minutes relates to win rate
    in professional League of Legends matches. Below is our first interactive visualization
    based on team-level data aggregated from Oracle’s Elixir.
  </p>

  <section id="map-filters">
    <h2>Explore Early-Game Advantages on the Rift</h2>
    <p class="map-caption">
      Click a glowing beam on the map to choose which objective or stat the bar chart below shows.
    </p>

    <div class="sr-map">
      <img src="assets/map.png" alt="Summoner's Rift map">
      <button class="map-icon icon-gold active" data-metric="gold" aria-label="Gold Difference">
        G
      </button>
      <button class="map-icon icon-dragon" data-metric="dragon" aria-label="Dragons">
        D
      </button>
      <button class="map-icon icon-baron" data-metric="baron" aria-label="Baron">
        B
      </button>
      <button class="map-icon icon-tower" data-metric="towers" aria-label="Towers">
        T
      </button>
      <button class="map-icon icon-kills" data-metric="kills" aria-label="Kills Difference">
        K
      </button>
      <button class="map-icon icon-vision" data-metric="vision" aria-label="Vision Score">
        V
      </button>
    </div>

    <p class="map-legend">
      <span class="lg-g">G</span> = Gold difference &nbsp;·&nbsp;
      <span class="lg-d">D</span> = Dragons &nbsp;·&nbsp;
      <span class="lg-b">B</span> = Baron &nbsp;·&nbsp;
      <span class="lg-t">T</span> = Towers &nbsp;·&nbsp;
      <span class="lg-k">K</span> = Kills &nbsp;·&nbsp;
      <span class="lg-v">V</span> = Vision score
    </p>
  </section>

  <div id="chart-container" style="display:none; margin-top:40px;">
    <h2 id="chart-title" style="margin-bottom: 8px;"></h2>
    <p id="chart-desc" style="max-width:640px; margin-bottom:24px;"></p>
    <div id="chart"></div>
  </div>

  <div class="right-panel">
    <section id="win-sim">
      <h2>Win Probability Simulator (First 10 Minutes)</h2>
      <p class="sim-intro">
        Adjust the early-game situation at 10 minutes and see how the predicted win probability changes.
        The model is a logistic regression trained on professional matches from Oracle’s Elixir.
      </p>

      <div class="sim-grid">
        <div class="sim-controls">
          <!-- Gold diff slider -->
          <div class="sim-control">
            <label for="sim-gold">
              Gold difference at 10 min (your team − enemy)
            </label>
            <div class="sim-input-row">
              <input
                type="range"
                id="sim-gold"
                min="-5000"
                max="5000"
                step="500"
                value="0"
              />
              <span id="sim-gold-value">0</span> gold
            </div>
          </div>

          <!-- Kills diff slider -->
          <div class="sim-control">
            <label for="sim-kills">
              Kill difference at 10 min (your team − enemy)
            </label>
            <div class="sim-input-row">
              <input
                type="range"
                id="sim-kills"
                min="-10"
                max="10"
                step="1"
                value="0"
              />
              <span id="sim-kills-value">0</span> kills
            </div>
          </div>

          <!-- First dragon radio -->
          <div class="sim-control">
            <span class="sim-label">First dragon</span>
            <div class="sim-radio-group">
              <label>
                <input
                  type="radio"
                  name="sim-firstdragon"
                  value="1"
                  checked
                />
                Your team secured first dragon
              </label>
              <label>
                <input
                  type="radio"
                  name="sim-firstdragon"
                  value="0"
                />
                Enemy / no dragon yet
              </label>
            </div>
          </div>
        </div>

        <div class="sim-output">
          <p class="sim-output-label">Predicted win probability</p>
          <p id="sim-prob" class="sim-prob-value">--%</p>
          <p id="sim-caption" class="sim-caption">
            Set the sliders to reflect the position at 10 minutes.
          </p>
        </div>
      </div>
    </section>
  </div>

  <h2>What have you done so far?</h2>
  <p style="max-width: 800px;">
    So far, we have selected our dataset from Oracle’s Elixir and explored more than 150,000 rows of
    professional League of Legends match data. We cleaned the player-level data and aggregated it into a
    team-level dataset containing gold difference, kills, objectives, towers, and vision metrics. We produced
    our first statistical visualization examining how early gold difference at 10 minutes correlates with win
    rate. We also built the initial page structure for our explorable explanation and implemented a simple
    interactive D3 bar chart as our prototype.
  </p>

  <h2>What will be the most challenging part?</h2>
  <p style="max-width: 800px;">
    The most challenging part will be designing interactive visualizations that are both intuitive and meaningful.
    Since League of Legends has many correlated variables, we must represent them in a way that avoids clutter and
    highlights clear insights. Implementing smooth interactions in D3.js will also take time, especially filtering
    by league, year, or metric. Finally, assembling these components into a polished explorable explanation will
    require careful layout and storytelling.
  </p>

  <!-- D3 code -->
  <script src="script.js"></script>
</body>
</html>
